"use strict";var themeLightBtn,themeDarkBtn,nameTransactionInput,amountTransactionInput,categoryTransaction,deleteTransactionBtn,addTransactionBtn,addPanel,addPanelBtns,panelError,expensesArea,incomeArea,categoryIcon,selectedCategory,totalMoney,currencyOne,currencyTwo,amountOne,amountTwo,switchCurrencyBtn,rateInfo,id=0,moneyArr=[0],main=function(){getDOMElements(),prepareDOMEvents()},getDOMElements=function(){themeLightBtn=document.querySelector(".btn--motive-light"),themeDarkBtn=document.querySelector(".btn--motive-dark"),addTransactionBtn=document.querySelector(".btn--add"),addPanel=document.querySelector(".add"),addPanelBtns=document.querySelectorAll(".add__btn"),deleteTransactionBtn=document.querySelector(".transaction__btn--delete"),panelError=document.querySelector(".add__error"),categoryTransaction=document.getElementById("category"),nameTransactionInput=document.getElementById("name"),amountTransactionInput=document.getElementById("amount"),incomeArea=document.querySelector(".income-area"),expensesArea=document.querySelector(".expenses-area"),totalMoney=document.querySelector(".total__sum")},prepareDOMEvents=function(){themeDarkBtn.addEventListener("click",function(){return document.documentElement.className="light"}),addTransactionBtn.addEventListener("click",addTransaction),addPanelBtns.forEach(function(e){return e.addEventListener("click",SaveOrCancelTransaction)}),categoryTransaction.addEventListener("click",checkSeletedCategory),incomeArea.addEventListener("click",deleteTransaction,{capture:!0}),expensesArea.addEventListener("click",deleteTransaction,{capture:!0}),calculate(),switchCurrencyBtn.addEventListener("click",switchCurrencies),currencyOne.addEventListener("change",calculate),currencyTwo.addEventListener("change",calculate),amountOne.addEventListener("input",calculate)},calculate=function(){currencyOne=document.querySelector("#currency-one"),currencyTwo=document.querySelector("#currency-two"),amountOne=document.querySelector(".amount-one"),amountTwo=document.querySelector(".amount-two"),switchCurrencyBtn=document.querySelector(".rate__btn"),rateInfo=document.querySelector(".rate__result");var e="https://api.exchangerate.host/latest?base=".concat(currencyOne.value,"&symbols=").concat(currencyTwo.value);fetch(e).then(function(e){return e.json()}).then(function(e){var n=currencyOne.value,t=currencyTwo.value,e=e.rates[t];rateInfo.textContent="1".concat(n," = ").concat(e.toFixed(4)," ").concat(t)})},switchCurrencies=function(){var e=currencyOne.value;currencyOne.value=currencyTwo.value,currencyTwo.value=e,calculate()},setTheme=function(e){document.documentElement.className=e},addTransaction=function(){addPanel.style.display="flex",console.log("showed add panel transaction")},SaveOrCancelTransaction=function(e){e.target.matches(".add__btns--save")?(checkFromValidation(),console.log("save")):e.target.matches(".add__btns--cancel")&&(clearPanel(),console.log("cancel"))},checkFromValidation=function(){console.log("form"),""!==nameTransactionInput.value&&""!==amountTransactionInput.value&&0!==categoryTransaction.selectedIndex?(createTransaction(),panelError.style.visibility="hidden"):panelError.style.visibility="visible"},clearPanel=function(){addPanel.style.display="none",nameTransactionInput.value="",amountTransactionInput.value="",categoryTransaction.selectedIndex=0,panelError.style.visibility="hidden"},createTransaction=function(){var e=document.createElement("article"),e=(e.classList.add("transaction"),e.setAttribute("id",id),checkCategory(" ".concat(selectedCategory)),e.innerHTML='\n    <p class="transaction__name">'.concat(categoryIcon).concat(nameTransactionInput.value,'</p>\n    <p class="transaction__amount">').concat(parseFloat(amountTransactionInput.value).toFixed(2),' z≈Ç\n        <button class="transaction__btn--delete"><i class="fas fa-times"></i></button>\n    </p>\n'),(0<amountTransactionInput.value?incomeArea:expensesArea).appendChild(e),parseFloat(amountTransactionInput.value));moneyArr.push(e),moneyArr=(moneyArr=moneyArr.map(function(e){return e.toFixed(2)})).map(function(e){return parseFloat(e)}),console.log(moneyArr),countMoney(moneyArr),id++,clearPanel()},checkSeletedCategory=function(){selectedCategory=categoryTransaction.options[categoryTransaction.selectedIndex].text},checkCategory=function(e){switch(e){case" + Salary":case" + Refund":case" + Bonus":case" + Other":categoryIcon="<i class='transaction__icon fa-regular fa-credit-card'></i>";break;case" - Shopping":categoryIcon="<i class='transaction__icon fa-solid fa-cart-arrow-down'></i>";break;case" - Car":categoryIcon="<i class='transaction__icon fa-solid fa-car'></i>";break;case" - Invoices":categoryIcon="<i class='transaction__icon  fa-solid fa-file-invoice'></i>";break;case" - Other":categoryIcon="<i class='transaction__icon  fa-solid fa-receipt'></i>"}},countMoney=function(e){e=e.reduce(function(e,n){return e+n});console.log(e),totalMoney.textContent="".concat(e.toFixed(2)," PLN")},deleteTransaction=function(e){var n,t;e.target.matches(".transaction__btn--delete")&&((e=e.target.closest("article")).id,n=parseFloat(e.querySelector(".transaction__amount").textContent),t=moneyArr.indexOf(n),moneyArr.splice(t,1),(0<n?incomeArea:expensesArea).removeChild(e))};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidGhlbWVMaWdodEJ0biIsInRoZW1lRGFya0J0biIsIm5hbWVUcmFuc2FjdGlvbklucHV0IiwiYW1vdW50VHJhbnNhY3Rpb25JbnB1dCIsImNhdGVnb3J5VHJhbnNhY3Rpb24iLCJkZWxldGVUcmFuc2FjdGlvbkJ0biIsImFkZFRyYW5zYWN0aW9uQnRuIiwiaWQiLCJjYXRlZ29yeUljb24iLCJ0b3RhbE1vbmV5IiwiY3VycmVuY3lPbmUiLCJjdXJyZW5jeVR3byIsImFtb3VudE9uZSIsImFtb3VudFR3byIsInN3aXRjaEN1cnJlbmN5QnRuIiwicmF0ZUluZm8iLCJtb25leUFyciIsImdldERPTUVsZW1lbnRzIiwicHJlcGFyZURPTUV2ZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZFBhbmVsIiwiYWRkUGFuZWxCdG5zIiwicXVlcnlTZWxlY3RvckFsbCIsInBhbmVsRXJyb3IiLCJnZXRFbGVtZW50QnlJZCIsImluY29tZUFyZWEiLCJleHBlbnNlc0FyZWEiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkVHJhbnNhY3Rpb24iLCJjbGFzc05hbWUiLCJTYXZlT3JDYW5jZWxUcmFuc2FjdGlvbiIsImZvckVhY2giLCJidG4iLCJjaGVja1NlbGV0ZWRDYXRlZ29yeSIsImRlbGV0ZVRyYW5zYWN0aW9uIiwiY2FwdHVyZSIsImNhbGN1bGF0ZSIsInRoZW4iLCJjb25jYXQiLCJ2YWx1ZSIsImZldGNoIiwiVVJMIiwiY3VycmVuY3kxIiwicmVzIiwiY3VycmVuY3kyIiwianNvbiIsInJhdGUiLCJ0ZXh0Q29udGVudCIsImRhdGEiLCJyYXRlcyIsInRvRml4ZWQiLCJwcmV2aW91c0N1cnJlbmN5IiwidGhlbWUiLCJkb2N1bWVudEVsZW1lbnQiLCJzZXRUaGVtZSIsImNvbnNvbGUiLCJzdHlsZSIsImRpc3BsYXkiLCJsb2ciLCJlIiwiY3JlYXRlVHJhbnNhY3Rpb24iLCJjaGVja0Zyb21WYWxpZGF0aW9uIiwidmlzaWJpbGl0eSIsInRhcmdldCIsImNsZWFyUGFuZWwiLCJzZWxlY3RlZEluZGV4IiwiY3JlYXRlRWxlbWVudCIsIm5ld1RyYW5zYWN0aW9uIiwic2V0QXR0cmlidXRlIiwiY2hlY2tDYXRlZ29yeSIsInNlbGVjdGVkQ2F0ZWdvcnkiLCJuZXdDb3N0IiwicGFyc2VGbG9hdCIsIm1hcCIsImFkZCIsInRyYW5zYWN0aW9uIiwieCIsImNvdW50TW9uZXkiLCJvcHRpb25zIiwidGV4dCIsInNwbGljZSIsIm1vbmV5IiwibmV3TW9uZXkiLCJyZWR1Y2UiLCJhIiwiYiIsImFtb3VudCIsImluZGV4T2ZBbW91bnQiLCJtYXRjaGVzIiwidHJhbnNhY3Rpb25Ub0RlbGV0ZSIsImNsb3Nlc3QiLCJpbmRleE9mIiwicmVtb3ZlQ2hpbGQiLCJtYWluIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxjQUFBQyxhQUdBQyxxQkFBQUMsdUJBQUFDLG9CQUFBQyxxQkFDSUgsa0JBQUFBLFNBQXNCQyxhQUFBQSxXQUN0QkcsYUFBQUEsV0FJQUMsYUFDQUMsaUJBR0pDLFdBUUlDLFlBQWFDLFlBQWFDLFVBQVdDLFVBQVdDLGtCQUFtQkMsU0FidkVSLEdBQUEsRUFRQVMsU0FBQSxDQUFBLEdBV0NDLEtBQUFBLFdBQUFBLGVBQ0FDLEVBQ0FBLGlCQUFBLENBQUQsRUFJQ0QsZUFBQSxXQUNBakIsY0FDZW1CLFNBQVNDLGNBQWMsb0JBQW9CLEVBQTFEbkIsYUFBZWtCLFNBQVNDLGNBQWMsbUJBQW1CLEVBR3pEZCxrQkFDbUJhLFNBQUNDLGNBQXFCLFdBQUEsRUFBekNDLFNBQ0FDLFNBQWVILGNBQVNJLE1BQUFBLEVBQXhCRCxhQUNBakIsU0FBdUJjLGlCQUFTQyxXQUFjLEVBQTlDZixxQkFDc0JlLFNBQUFBLGNBQWMsMkJBQWMsRUFBbERJLFdBQ0FMLFNBQUFDLGNBQUEsYUFBQSxFQUNBaEIsb0JBQ29CZSxTQUFHQSxlQUFTTSxVQUFzQixFQUF0RHZCLHFCQUNzQmlCLFNBQUdBLGVBQVNNLE1BQWUsRUFBakR0Qix1QkFBeUJnQixTQUFTTSxl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QUNBQSxhQUFBLDhEQUNBLE1BOUNFLElBQUssV0FDSkEsYUFBZSx3REFDVixDQUVSLEVBRU1zRSxXQUFhLFNBQUNJLEdBQ2JDLEVBQVdELEVBQU1FLE9BQU8sU0FBQ0MsRUFBRUMsR0FBQyxPQUFLRCxFQUFJQyxDQUFDLENBQUEsRUFDNUM5QixRQUFRRyxJQUFJd0IsQ0FBUSxFQUNwQjFFLFdBQVd1QyxZQUFXLEdBQUFULE9BQU00QyxFQUFTaEMsUUFBUSxDQUFDLEVBQUMsTUFBQSxDQUNoRCxFQUVNaEIsa0JBQW9CLFNBQUN5QixHQUMxQixJQUdPMkIsRUFFQUMsRUFMSDVCLEVBQUVJLE9BQU95QixRQUFRLDJCQUEyQixLQUN6Q0MsRUFBc0I5QixFQUFFSSxPQUFPMkIsUUFBUSxTQUFTLEdBQ3BCcEYsR0FDNUJnRixFQUFTZCxXQUFXaUIsRUFBb0J0RSxjQUFjLHNCQUFzQixFQUFFNEIsV0FBVyxFQUV6RndDLEVBQWdCeEUsU0FBUzRFLFFBQVFMLENBQU0sRUFDN0N2RSxTQUFTaUUsT0FBT08sRUFBZSxDQUFDLEdBRXZCLEVBQVRELEVBQWE3RCxXQUE4Q0MsY0FBbkNrRSxZQUFZSCxDQUFtQixFQUl6RCxFQVlBdkUsU0FBU1MsaUJBQWlCLG1CQUFvQmtFLElBQUkiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy9WQVJJQUJMRVMgZm9yIGNoYW5naW5nIHRoZW1lXHJcbmxldCB0aGVtZUxpZ2h0QnRuLCB0aGVtZURhcmtCdG5cclxuXHJcbi8vVkFSSUFCTEVTIGNvbm5lY3RlZCB3aXRoIEFkZCBuZXcgdHJhbnNhY3Rpb24gUEFORUwgYW5kIGluY29tZS9leHBlbnNlIGFyZWFzXHJcbmxldCBuYW1lVHJhbnNhY3Rpb25JbnB1dCwgYW1vdW50VHJhbnNhY3Rpb25JbnB1dCwgY2F0ZWdvcnlUcmFuc2FjdGlvbiwgZGVsZXRlVHJhbnNhY3Rpb25CdG5cclxubGV0IGFkZFRyYW5zYWN0aW9uQnRuLCBhZGRQYW5lbCwgYWRkUGFuZWxCdG5zLCBwYW5lbEVycm9yXHJcbmxldCBleHBlbnNlc0FyZWEsIGluY29tZUFyZWFcclxuXHJcbi8vVkFSSUFCTEVTIC0gdHJhbnNhY3Rpb25cclxubGV0IGlkID0gMFxyXG5sZXQgY2F0ZWdvcnlJY29uXHJcbmxldCBzZWxlY3RlZENhdGVnb3J5XHJcblxyXG4vL1ZBUklBQkxFIC0gdG90YWwgYmFsYW5jZVxyXG5sZXQgdG90YWxNb25leVxyXG5cclxuLy9BcnJheSBmb3IgZXZlcnkgdHJhbnNhY3Rpb24gdG8gY3JlYXRlIHRvdGFsQmFsYW5jZVxyXG5sZXQgbW9uZXlBcnIgPSBbMF1cclxuXHJcblxyXG4vL1ZBUklBQkxFUyBmb3IgZXhjaGFuZ2UgcmF0ZVxyXG5sZXQgY3VycmVuY3lPbmUsIGN1cnJlbmN5VHdvLCBhbW91bnRPbmUsIGFtb3VudFR3bywgc3dpdGNoQ3VycmVuY3lCdG4sIHJhdGVJbmZvXHJcblxyXG5cclxuLy9GVU5DVElPTlNcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0Z2V0RE9NRWxlbWVudHMoKVxyXG5cdHByZXBhcmVET01FdmVudHMoKVxyXG59XHJcblxyXG4vL0dFVFRJTkcgRUxFTUVOVFNcclxuY29uc3QgZ2V0RE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0Ly90aGVtZSB2YXJpYWJsZXNcclxuXHR0aGVtZUxpZ2h0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi0tbW90aXZlLWxpZ2h0JylcclxuXHR0aGVtZURhcmtCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLS1tb3RpdmUtZGFyaycpXHJcblxyXG5cdC8vdHJhbnNhY3Rpb24gcGFuZWwgdmFyaWFibGVzXHJcblx0YWRkVHJhbnNhY3Rpb25CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLS1hZGQnKVxyXG5cdGFkZFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZCcpXHJcblx0YWRkUGFuZWxCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkZF9fYnRuJylcclxuXHRkZWxldGVUcmFuc2FjdGlvbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2FjdGlvbl9fYnRuLS1kZWxldGUnKVxyXG5cdHBhbmVsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkX19lcnJvcicpXHJcblx0Ly9wYW5lbCBpbnB1dHNcclxuXHRjYXRlZ29yeVRyYW5zYWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3J5JylcclxuXHRuYW1lVHJhbnNhY3Rpb25JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJylcclxuXHRhbW91bnRUcmFuc2FjdGlvbklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ftb3VudCcpXHJcblxyXG5cdC8vYXJlYXNcclxuXHRpbmNvbWVBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluY29tZS1hcmVhJylcclxuXHRleHBlbnNlc0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXhwZW5zZXMtYXJlYScpXHJcblxyXG5cdC8vdG90YWwgYmFsYW5jZVxyXG5cdHRvdGFsTW9uZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG90YWxfX3N1bScpXHJcblxyXG5cdC8vZXhjaGFuZ2UgcmF0ZXNcclxuXHJcblx0Ly9cclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdC8vIHRoZW1lTGlnaHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZXRUaGVtZSgnZGFyaycpKVxyXG5cdC8vIHRoZW1lRGFya0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNldFRoZW1lKCdsaWdodCcpKVxyXG5cdC8vIHRoZW1lTGlnaHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSA9ICdkYXJrJylcclxuXHR0aGVtZURhcmtCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NOYW1lID0gJ2xpZ2h0JylcclxuXHJcblx0YWRkVHJhbnNhY3Rpb25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRUcmFuc2FjdGlvbilcclxuXHRhZGRQYW5lbEJ0bnMuZm9yRWFjaCgoYnRuKSA9PlxyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgU2F2ZU9yQ2FuY2VsVHJhbnNhY3Rpb24pXHJcblx0KVxyXG5cclxuXHRjYXRlZ29yeVRyYW5zYWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tTZWxldGVkQ2F0ZWdvcnkpXHJcblxyXG5cdGluY29tZUFyZWEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVUcmFuc2FjdGlvbiwge2NhcHR1cmU6IHRydWV9KVxyXG5cdGV4cGVuc2VzQXJlYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZVRyYW5zYWN0aW9uLCB7Y2FwdHVyZTogdHJ1ZX0pXHJcblx0Y2FsY3VsYXRlKClcclxuXHJcblx0c3dpdGNoQ3VycmVuY3lCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzd2l0Y2hDdXJyZW5jaWVzKVxyXG5cdGN1cnJlbmN5T25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNhbGN1bGF0ZSlcclxuXHRjdXJyZW5jeVR3by5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjYWxjdWxhdGUpXHJcblx0YW1vdW50T25lLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgY2FsY3VsYXRlKVxyXG59XHJcblxyXG5jb25zdCBjYWxjdWxhdGUgPSAoKSA9PiB7XHJcblx0Y3VycmVuY3lPbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3VycmVuY3ktb25lJylcclxuXHRjdXJyZW5jeVR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjdXJyZW5jeS10d28nKVxyXG5cdGFtb3VudE9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbW91bnQtb25lJylcclxuXHRhbW91bnRUd28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYW1vdW50LXR3bycpXHJcblx0c3dpdGNoQ3VycmVuY3lCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmF0ZV9fYnRuJylcclxuXHRyYXRlSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yYXRlX19yZXN1bHQnKVxyXG5cclxuXHRjb25zdCBVUkwgPSBgaHR0cHM6Ly9hcGkuZXhjaGFuZ2VyYXRlLmhvc3QvbGF0ZXN0P2Jhc2U9JHtjdXJyZW5jeU9uZS52YWx1ZX0mc3ltYm9scz0ke2N1cnJlbmN5VHdvLnZhbHVlfWBcclxuXHRmZXRjaChVUkwpXHJcblx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0LnRoZW4gKGRhdGEgPT4ge1xyXG5cdGNvbnN0IGN1cnJlbmN5MSA9IGN1cnJlbmN5T25lLnZhbHVlXHJcblx0Y29uc3QgY3VycmVuY3kyID0gY3VycmVuY3lUd28udmFsdWVcclxuXHJcblx0Y29uc3QgcmF0ZSA9IGRhdGEucmF0ZXNbY3VycmVuY3kyXVxyXG5cdHJhdGVJbmZvLnRleHRDb250ZW50ID0gYDEke2N1cnJlbmN5MX0gPSAke3JhdGUudG9GaXhlZCg0KX0gJHtjdXJyZW5jeTJ9YFxyXG5cdH1cclxuXHJcblx0Ly8gYW1vdW50VHdvLnZhbHVlID0gKGFtb3VudE9uZSAqIHJhdGUpLnRvRml4ZWQoMilcclxuXHQpXHJcbn1cclxuXHJcbmNvbnN0IHN3aXRjaEN1cnJlbmNpZXMgPSAoKSA9PiB7XHJcblx0Y29uc3QgcHJldmlvdXNDdXJyZW5jeSA9IGN1cnJlbmN5T25lLnZhbHVlXHJcblx0Y3VycmVuY3lPbmUudmFsdWUgPSBjdXJyZW5jeVR3by52YWx1ZVxyXG5cdGN1cnJlbmN5VHdvLnZhbHVlID0gcHJldmlvdXNDdXJyZW5jeVxyXG5cdGNhbGN1bGF0ZSgpXHJcbn1cclxuXHJcblxyXG5jb25zdCBzZXRUaGVtZSA9ICh0aGVtZSkgPT4ge1xyXG5cdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc05hbWUgPSB0aGVtZVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBhZGRUcmFuc2FjdGlvbiA9ICgpID0+IHtcclxuXHRhZGRQYW5lbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcblx0Y29uc29sZS5sb2coJ3Nob3dlZCBhZGQgcGFuZWwgdHJhbnNhY3Rpb24nKVxyXG59XHJcblxyXG5jb25zdCBTYXZlT3JDYW5jZWxUcmFuc2FjdGlvbiA9IChlKSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5hZGRfX2J0bnMtLXNhdmUnKSkge1xyXG5cdFx0Y2hlY2tGcm9tVmFsaWRhdGlvbigpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ3NhdmUnKTtcclxuXHR9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy5hZGRfX2J0bnMtLWNhbmNlbCcpKSB7XHJcblx0XHRjbGVhclBhbmVsKClcclxuICAgICAgICBjb25zb2xlLmxvZygnY2FuY2VsJyk7XHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja0Zyb21WYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ2Zvcm0nKTtcclxuXHRpZiAoXHJcblx0XHRuYW1lVHJhbnNhY3Rpb25JbnB1dC52YWx1ZSAhPT0gJycgJiZcclxuXHRcdGFtb3VudFRyYW5zYWN0aW9uSW5wdXQudmFsdWUgIT09ICcnICYmXHJcblx0XHRjYXRlZ29yeVRyYW5zYWN0aW9uLnNlbGVjdGVkSW5kZXggIT09IDBcclxuXHQpIHtcclxuICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbigpXHJcbiAgICAgICAgcGFuZWxFcnJvci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxuXHR9IGVsc2Uge1xyXG5cdFx0cGFuZWxFcnJvci5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjbGVhclBhbmVsID0gKCkgPT4ge1xyXG5cdGFkZFBhbmVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHRuYW1lVHJhbnNhY3Rpb25JbnB1dC52YWx1ZSA9ICcnXHJcblx0YW1vdW50VHJhbnNhY3Rpb25JbnB1dC52YWx1ZSA9ICcnXHJcblx0Y2F0ZWdvcnlUcmFuc2FjdGlvbi5zZWxlY3RlZEluZGV4ID0gMFxyXG5cdHBhbmVsRXJyb3Iuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZVRyYW5zYWN0aW9uID0gKCkgPT4ge1xyXG5cdGNvbnN0IG5ld1RyYW5zYWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXJ0aWNsZScpXHJcblx0bmV3VHJhbnNhY3Rpb24uY2xhc3NMaXN0LmFkZCgndHJhbnNhY3Rpb24nKVxyXG5cdG5ld1RyYW5zYWN0aW9uLnNldEF0dHJpYnV0ZSgnaWQnLCBpZClcclxuXHJcblx0Y2hlY2tDYXRlZ29yeShgICR7c2VsZWN0ZWRDYXRlZ29yeX1gKVxyXG5cclxuXHRuZXdUcmFuc2FjdGlvbi5pbm5lckhUTUwgPSBgXHJcbiAgICA8cCBjbGFzcz1cInRyYW5zYWN0aW9uX19uYW1lXCI+JHtjYXRlZ29yeUljb259JHtuYW1lVHJhbnNhY3Rpb25JbnB1dC52YWx1ZX08L3A+XHJcbiAgICA8cCBjbGFzcz1cInRyYW5zYWN0aW9uX19hbW91bnRcIj4ke3BhcnNlRmxvYXQoYW1vdW50VHJhbnNhY3Rpb25JbnB1dC52YWx1ZSkudG9GaXhlZCgyKX0gesWCXHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRyYW5zYWN0aW9uX19idG4tLWRlbGV0ZVwiPjxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgPC9wPlxyXG5gXHJcblxyXG5cdGlmIChhbW91bnRUcmFuc2FjdGlvbklucHV0LnZhbHVlID4gMCkge1xyXG5cdFx0aW5jb21lQXJlYS5hcHBlbmRDaGlsZChuZXdUcmFuc2FjdGlvbilcclxuXHR9IGVsc2Uge1xyXG4gICAgICAgIGV4cGVuc2VzQXJlYS5hcHBlbmRDaGlsZChuZXdUcmFuc2FjdGlvbilcclxuICAgIH1cclxuXHJcblx0Y29uc3QgbmV3Q29zdCA9IHBhcnNlRmxvYXQoYW1vdW50VHJhbnNhY3Rpb25JbnB1dC52YWx1ZSlcclxuXHRtb25leUFyci5wdXNoKG5ld0Nvc3QpXHJcblxyXG5cclxuXHRtb25leUFyciA9IG1vbmV5QXJyLm1hcCh4ID0+IHgudG9GaXhlZCgyKSlcclxuXHRtb25leUFyciA9IG1vbmV5QXJyLm1hcCh4ID0+IHBhcnNlRmxvYXQoeCkpXHJcblx0Y29uc29sZS5sb2cobW9uZXlBcnIpO1xyXG5cdGNvdW50TW9uZXkobW9uZXlBcnIpXHJcblxyXG5cdGlkKytcclxuXHRjbGVhclBhbmVsKClcclxufVxyXG5cclxuY29uc3QgY2hlY2tTZWxldGVkQ2F0ZWdvcnkgPSAoKSA9PiB7XHJcblx0c2VsZWN0ZWRDYXRlZ29yeSA9XHJcblx0XHRjYXRlZ29yeVRyYW5zYWN0aW9uLm9wdGlvbnNbY2F0ZWdvcnlUcmFuc2FjdGlvbi5zZWxlY3RlZEluZGV4XS50ZXh0XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQ2F0ZWdvcnkgPSAodHJhbnNhY3Rpb24pID0+IHtcclxuXHRzd2l0Y2ggKHRyYW5zYWN0aW9uKSB7XHJcblx0XHRjYXNlICcgKyBTYWxhcnknOiBcclxuXHRcdGNhc2UgJyArIFJlZnVuZCc6XHJcblx0XHRjYXNlICcgKyBCb251cyc6XHJcblx0XHRjYXNlICcgKyBPdGhlcic6XHJcblx0XHRcdGNhdGVnb3J5SWNvbiA9IFwiPGkgY2xhc3M9J3RyYW5zYWN0aW9uX19pY29uIGZhLXJlZ3VsYXIgZmEtY3JlZGl0LWNhcmQnPjwvaT5cIlxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnIC0gU2hvcHBpbmcnOlxyXG5cdFx0XHRjYXRlZ29yeUljb24gPSBcclxuXHRcdFx0XHRcIjxpIGNsYXNzPSd0cmFuc2FjdGlvbl9faWNvbiBmYS1zb2xpZCBmYS1jYXJ0LWFycm93LWRvd24nPjwvaT5cIlxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnIC0gQ2FyJzpcclxuXHRcdFx0Y2F0ZWdvcnlJY29uID0gXCI8aSBjbGFzcz0ndHJhbnNhY3Rpb25fX2ljb24gZmEtc29saWQgZmEtY2FyJz48L2k+XCJcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgJyAtIEludm9pY2VzJzpcclxuXHRcdFx0Y2F0ZWdvcnlJY29uID0gXCI8aSBjbGFzcz0ndHJhbnNhY3Rpb25fX2ljb24gIGZhLXNvbGlkIGZhLWZpbGUtaW52b2ljZSc+PC9pPlwiXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlICcgLSBPdGhlcic6XHJcblx0XHRcdGNhdGVnb3J5SWNvbiA9IFwiPGkgY2xhc3M9J3RyYW5zYWN0aW9uX19pY29uICBmYS1zb2xpZCBmYS1yZWNlaXB0Jz48L2k+XCJcclxuXHRcdFx0YnJlYWtcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNvdW50TW9uZXkgPSAobW9uZXkpID0+IHtcclxuXHRjb25zdCBuZXdNb25leSA9IG1vbmV5LnJlZHVjZSgoYSxiKSA9PiBhICsgYilcclxuXHRjb25zb2xlLmxvZyhuZXdNb25leSlcclxuXHR0b3RhbE1vbmV5LnRleHRDb250ZW50ID0gYCR7bmV3TW9uZXkudG9GaXhlZCgyKX0gUExOYFxyXG59XHJcblxyXG5jb25zdCBkZWxldGVUcmFuc2FjdGlvbiA9IChlKSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoJy50cmFuc2FjdGlvbl9fYnRuLS1kZWxldGUnKSl7XHJcblx0XHRjb25zdCB0cmFuc2FjdGlvblRvRGVsZXRlID0gZS50YXJnZXQuY2xvc2VzdCgnYXJ0aWNsZScpXHJcblx0XHRjb25zdCBpbmRleCA9IHRyYW5zYWN0aW9uVG9EZWxldGUuaWRcclxuXHRcdGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQodHJhbnNhY3Rpb25Ub0RlbGV0ZS5xdWVyeVNlbGVjdG9yKCcudHJhbnNhY3Rpb25fX2Ftb3VudCcpLnRleHRDb250ZW50KVxyXG5cclxuXHRcdGNvbnN0IGluZGV4T2ZBbW91bnQgPSBtb25leUFyci5pbmRleE9mKGFtb3VudClcclxuXHRcdG1vbmV5QXJyLnNwbGljZShpbmRleE9mQW1vdW50LCAxKVxyXG5cclxuXHRcdGFtb3VudCA+IDAgPyBpbmNvbWVBcmVhLnJlbW92ZUNoaWxkKHRyYW5zYWN0aW9uVG9EZWxldGUpIDogZXhwZW5zZXNBcmVhLnJlbW92ZUNoaWxkKHRyYW5zYWN0aW9uVG9EZWxldGUpIFxyXG5cdFxyXG5cdFx0XHJcblx0fVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pXHJcblxyXG5cclxuXHJcbi8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcclxuLy8gXHRpZiAoZS5rZXkgPT09ICcsJykge1xyXG4vLyBcdFx0ICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vIFx0XHQgIHJldHVybiBmYWxzZTtcclxuLy8gXHQgIH1cclxuLy8gICB9KSJdfQ==
